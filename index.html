<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Swift Track Express</title>
</head>
<body>
  <div id="root"></div>

  <!-- React -->
  <script src="https://unpkg.com/react @18/umd/react.development.js" crossorigin></script>
  <script src="https://unpkg.com/react-dom @18/umd/react-dom.development.js" crossorigin></script>

  <!-- Babel -->
  <script src="https://unpkg.com/ @babel/standalone/babel.min.js"></script>

  <!-- Firebase SDK -->
  <script type="module">
    import { initializeApp } from 'https://www.gstatic.com/firebasejs/9.6.10/firebase-app.js ';
    import { getFirestore, collection, doc, addDoc, updateDoc, onSnapshot } from 'https://www.gstatic.com/firebasejs/9.6.10/firebase-firestore.js ';

    // Your Firebase config
    const firebaseConfig = {
      apiKey: "AIzaSyA-xbyIbrFwQVQU0WxV2-5bxtWJfqwGMGU",
      authDomain: "st-expressgit.firebaseapp.com",
      projectId: "st-expressgit",
      storageBucket: "st-expressgit.appspot.com",
      messagingSenderId: "237397224823",
      appId: "1:237397224823:web:d0abe2b4c2b00665f2c572"
    };

    // Initialize Firebase
    const app = initializeApp(firebaseConfig);
    const db = getFirestore(app);

    // Reference to shipments collection
    const shipmentsCollection = collection(db, 'shipments');

    // Store Firebase functions globally for easy access
    window.firebaseDB = {
      db,
      shipmentsCollection,
      addDoc,
      updateDoc,
      onSnapshot,
      doc
    };
  </script>

  <!-- React App -->
  <script type="text/babel">
    function App() {
      const [message, setMessage] = React.useState('Welcome to Swift Track Express');
      const handleClick = () => setMessage('You clicked me!');

      return (
        <div style={{ textAlign: 'center', marginTop: '50px' }}>
          <h1>{message}</h1>
          <button onClick={handleClick} style={{
            padding: '10px 20px',
            fontSize: '1rem',
            backgroundColor: '#003366',
            color: 'white',
            border: 'none',
            borderRadius: '6px',
            cursor: 'pointer'
          }}>
            Click Me
          </button>
        </div>
      );
    }

    const rootElement = document.getElementById('root');
    if (rootElement) {
      const root = ReactDOM.createRoot(rootElement);
      root.render(<App />);
    } else {
      console.error("Could not find #root");
    }
  </script>
</body>
</html>
